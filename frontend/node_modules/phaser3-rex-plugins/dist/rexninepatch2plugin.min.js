!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).rexninepatch2plugin=e();}(undefined,(function(){function t(t,i,r){return i=a(i),function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,e()?Reflect.construct(i,r||[],a(t).constructor):i.apply(t,r))}function e(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));}catch(t){}return (e=function(){return !!t})()}function i(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return ("string"===e?String:Number)(t)}(t,"string");return "symbol"==typeof e?e:String(e)}function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,i(s.key),s);}}function h(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e);}function a(t){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},a(t)}function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}function l(){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,i){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=a(t)););return t}(t,e);if(r){var s=Object.getOwnPropertyDescriptor(r,e);return s.get?s.get.call(arguments.length<3?t:i):s.value}},l.apply(this,arguments)}function c(t){return function(t){if(Array.isArray(t))return d(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return d(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return d(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var f=Phaser.GameObjects.GetCalcMatrix,p=Phaser.Renderer.Canvas.SetTransform,y={renderWebGL:function(t,e,i,r){var s=e.getRenderList();if(0!==s.length){i.addToRenderList(e);var n=t.pipelines.set(e.pipeline),h=e.frame.glTexture,o=n.setGameObject(e),a=i.roundPixels,u=f(e,i,r),l=n.calcMatrix.copyFrom(u.calc),c=e._displayOriginX,d=e._displayOriginY,p=i.alpha*e.alpha;t.pipelines.preBatch(e);for(var y=0,v=s.length;y<v;y++)s[y].webglRender(n,l,p,c,d,h,o,a);t.pipelines.postBatch(e);}},renderCanvas:function(t,e,i,r){var s=t.currentContext,n=e.getRenderList();if(0!==n.length&&p(t,s,e,i,r)){i.addToRenderList(e);var h=i.roundPixels,o=-e._displayOriginX,a=-e._displayOriginY;s.translate(o,a);for(var u=0,l=n.length;u<l;u++)n[u].canvasRender(s,o,a,h);s.restore();}}},v=function(t,e){if(this.width===t&&this.height===e)return this;this.width=t,this.height=e,this.updateDisplayOrigin();var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=t,i.hitArea.height=e),this},g=Phaser.Utils.Array.Remove,m=function(){return this.poolManager&&this.poolManager.freeMultiple(this.children.list),this.children.list.length=0,this.lastAppendedChildren.length=0,this.dirty=!0,this},b={setTexture:function(t,e){return this.texture=this.scene.sys.textures.get(t),this.frame=this.texture.get(e),this},resize:v,setSize:v,addChild:function(t){var e;(this.lastAppendedChildren.length=0,Array.isArray(t))?(this.children.add(t),(e=this.lastAppendedChildren).push.apply(e,c(t))):(this.children.add(t),this.lastAppendedChildren.push(t));return this},removeChild:function(t){return this.poolManager&&this.poolManager.free(t),g(this.children.list,t),this.lastAppendedChildren.length=0,this.dirty=!0,this},removeChildren:m,clear:m,getLastAppendedChildren:function(){return this.lastAppendedChildren},getChildren:function(){return this.children.list}};Object.assign(b,{setTint:function(t){return this.tint=t,this.tintFill=!1,this},setTintFill:function(t){return this.tint=t,this.tintFill=!0,this},clearTint:function(){return this.setTint(16777215),this}});var w,P=function(){function t(){s(this,t),this.items=[];}return h(t,[{key:"destroy",value:function(){this.clear(),this.items=void 0;}},{key:"pop",value:function(){return this.items.length>0?this.items.pop():null}},{key:"push",value:function(t){return this.items.push(t),this}},{key:"pushMultiple",value:function(t){return this.items.push.apply(this.items,t),t.length=0,this}},{key:"clear",value:function(){return this.items.length=0,this}}]),t}(),O=Phaser.Utils.Objects.GetValue,k={},x=function(){function t(e){s(this,t),this.pools=O(e,"pools",k);}return h(t,[{key:"destroy",value:function(){this.pools=void 0;}},{key:"free",value:function(t){if(!this.pools)return this;var e=t.type;return this.pools.hasOwnProperty(e)||(this.pools[e]=new P),this.pools[e].push(t),t.onFree(),this}},{key:"freeMultiple",value:function(t){if(!this.pools)return this;for(var e=0,i=t.length;e<i;e++)this.free(t[e]);return this}},{key:"allocate",value:function(t){return this.pools&&this.pools.hasOwnProperty(t)?this.pools[t].pop():null}}]),t}(),_=!1;_||(void 0===w&&(w=60),parseInt(Phaser.VERSION.match(/\.(\d+)\./)[1])<w&&console.error("Minimum supported version : 3.".concat(w)),_=!0);var F=Phaser.GameObjects.GameObject,j=Phaser.Utils.Objects.IsPlainObject,S=Phaser.Utils.Objects.GetValue,D=Phaser.Structs.List,A=Phaser.Utils.Array.StableSort,T=function(e){function i(e,r,n,h,o,a){var u;s(this,i),j(r)&&(r=S(a=r,"x",0),n=S(a,"y",0),h=S(a,"texture"),o=S(a,"frame")),void 0===r&&(r=0),void 0===n&&(n=0),(u=t(this,i,[e,"rexBlitter"])).children=new D,u.renderList=[],u.displayListDirty=!1,u.lastAppendedChildren=[];var l=S(a,"reuseBob",!0);return u.poolManager=l?new x(a):void 0,u.setTexture(h,o),u.setPosition(r,n),u.setOrigin(0,0),u.clearTint(),u.initPipeline(),u.initPostPipeline(),u}return o(i,e),h(i,[{key:"preDestroy",value:function(){this.removeChildren(),this.children.destroy(),this.renderList.length=0,this.poolManager&&this.poolManager.destroy();}},{key:"getRenderList",value:function(){if(this.displayListDirty){this.renderList.length=0;for(var t=!1,e=this.children.list,i=0,r=e.length;i<r;i++){var s=e[i];X(s)&&(this.renderList.push(s),t||(t=0!==s.depth));}t&&A(this.renderList,Y),this.displayListDirty=!1;}return this.renderList}}]),i}(F),X=function(t){return t.active&&t.visible&&t.alpha>0},Y=function(t,e){return t._depth-e._depth},M=Phaser.GameObjects.Components;Phaser.Class.mixin(T,[M.Alpha,M.BlendMode,M.ComputedSize,M.Depth,M.GetBounds,M.Mask,M.Origin,M.Pipeline,M.PostPipeline,M.ScrollFactor,M.Transform,M.Visible,y,b]);var R=function(t,e,i){return "__BASE"===i?"".concat(t,",").concat(e):"".concat(i,":").concat(t,",").concat(e)};function C(t){if(null===t||"object"!==r(t))return t;if(Array.isArray(t))return t.map((function(t){return C(t)}));if(t instanceof Date)return new Date(t);if(t instanceof RegExp)return new RegExp(t);if(Object.getPrototypeOf(t)!==Object.prototype)return t;var e={};for(var i in t)t.hasOwnProperty(i)&&(e[i]=C(t[i]));return e}var L=Phaser.Utils.Objects.IsPlainObject,G=Phaser.Utils.Objects.GetValue,W=function(t){return "string"==typeof t&&(t=H[t]),t},H={scale:0,repeat:1},B=function(t,e){return 0===t||t===this.columns.count-1||0===e||e===this.rows.count-1},I=function(){},N={_beginDraw:I,_drawImage:I,_drawTileSprite:I,_endDraw:I,setGetFrameNameCallback:function(t){return void 0===t&&(t=R),this.getFrameNameCallback=t,this},setBaseTexture:function(t,e,i,s){Array.isArray(e)&&(s=i,i=e,e=void 0),null==e&&(e="__BASE"),"number"==typeof i&&arguments.length>=6?(i=[arguments[2],void 0,arguments[3]],s=[arguments[4],void 0,arguments[5]]):void 0===i&&void 0===s&&void 0!==this.columns.data&&void 0!==this.rows.data?(i=this.columns.data,s=this.rows.data):(i=C(i),s=C(s)),this.textureKey=t,this.baseFrameName=e,this.columns.data=i,this.columns.count=i?i.length:0,this.columns.stretch=0,this.columns.minWidth=0,this.columns.scale=1,this.rows.data=s,this.rows.count=s?s.length:0,this.rows.stretch=0,this.rows.minHeight=0,this.rows.scale=1;var n=this.scene.sys.textures.get(t);if(!n)return this.clear(),this;if(!i||!s)return this.clear(),this;for(var h=n.get(e),o=h.width,a=0,u=0,l=i.length;u<l;u++)void 0===i[u]?a++:"number"==typeof i[u]?o-=i[u]:o-=i[u].width;var c=a>0?o/a:0,d=h.height,f=0;for(u=0,l=s.length;u<l;u++)void 0===s[u]?f++:"number"==typeof s[u]?d-=s[u]:d-=s[u].width;for(var p,y,v,g,m,b=f?d/f:0,w=0,P=0,O=0,k=s.length;O<k;O++){void 0===s[O]&&(s[O]=b),"number"==typeof s[O]&&(s[O]={height:s[O],stretch:O%2}),v=(p=s[O]).height,this.rows.stretch+=0|p.stretch,this.rows.minHeight+=p.stretch>0?0:v,w=0;u=0;for(var x=i.length;u<x;u++){if(void 0===i[u]&&(i[u]=c),"number"==typeof i[u]&&(i[u]={width:i[u],stretch:u%2}),g=(y=i[u]).width,0===O&&(this.columns.stretch+=0|y.stretch,this.columns.minWidth+=y.stretch>0?0:g),g>=1&&v>=1){var _=r(m=this.getFrameNameCallback(u,O,e));"string"!==_&&"number"!==_||n.add(m,0,w+h.cutX,P+h.cutY,g,v);}w+=g;}P+=v;}return this.updateTexture(),this},updateTexture:function(){if(this.clear(),void 0===this.textureKey)return this;var t=this.scene.sys.textures.get(this.textureKey);if(!t)return this;var e,i,r,s,n,h,o,a=this.columns.minWidth*this.maxFixedPartScaleX,u=this.rows.minHeight*this.maxFixedPartScaleY,l=this.width-a,c=this.height-u,d=l>=0?this.maxFixedPartScaleX:this.width/a,f=c>=0?this.maxFixedPartScaleY:this.height/u;if(this.preserveRatio){var p=Math.min(d,f);if(d>p){var y=(d-p)*a;l>=0?l+=y:l=y,d=p;}if(f>p){var v=(f-p)*u;c>=0?c+=v:c=v,f=p;}}this.columns.scale=d,this.rows.scale=f,e=l>0&&this.columns.stretch>0?l/this.columns.stretch:0,i=c>0&&this.rows.stretch>0?c/this.rows.stretch:0;var g=0,m=0;this._beginDraw();for(var b=0,w=this.rows.count;b<w;b++){o=0===(n=this.rows.data[b]).stretch?n.height*f:i*n.stretch,g=0;for(var P=0,O=this.columns.count;P<O;P++)h=0===(s=this.columns.data[P]).stretch?s.width*d:e*s.stretch,r=this.getFrameNameCallback(P,b,this.baseFrameName),t.has(r)&&h>0&&o>0&&(0===(0===n.stretch&&0===s.stretch||0===this.getStretchMode(P,b)?0:1)?this._drawImage(this.textureKey,r,g,m,h,o):this._drawTileSprite(this.textureKey,r,g,m,h,o)),g+=h;m+=o;}this._endDraw();},setStretchMode:function(t){return L(t)?(this.stretchMode.edge=W(G(t,"edge",0)),this.stretchMode.internal=W(G(t,"internal",0))):(t=W(t),this.stretchMode.edge=t,this.stretchMode.internal=t),this},getStretchMode:function(t,e){return B.call(this,t,e)?this.stretchMode.edge:this.stretchMode.internal},setPreserveRatio:function(t){return null==t&&(t=!0),this.preserveRatio=t,this},setMaxFixedPartScale:function(t,e){return void 0===e&&(e=t),this.maxFixedPartScaleX=t,this.maxFixedPartScaleY=e,this}},U=Phaser.Utils.Objects.IsPlainObject,E=Phaser.Utils.Objects.GetValue,V="image",z={enableData:function(){return void 0===this.data&&(this.data={}),this},setData:function(t,e){if(this.enableData(),1===arguments.length){var i=t;for(t in i)this.data[t]=i[t];}else this.data[t]=e;return this},getData:function(t,e){return this.enableData(),void 0===t?this.data:function(t,e,i){if(!t||"number"==typeof t)return i;if("string"==typeof e){if(t.hasOwnProperty(e))return t[e];if(-1===e.indexOf("."))return i;e=e.split(".");}for(var r=e,s=t,n=i,h=0;h<r.length;h++){if(e=r[h],!s.hasOwnProperty(e)){n=i;break}s=n=s[e];}return n}(this.data,t,e)},incData:function(t,e,i){return void 0===i&&(i=0),this.enableData(),this.setData(t,this.getData(t,i)+e),this},mulData:function(t,e,i){return void 0===i&&(i=0),this.enableData(),this.setData(t,this.getData(t,i)*e),this},clearData:function(){return this.data&&function(t){if("object"!==r(t)||null===t)return t;if(Array.isArray(t))t.length=0;else for(var e in t)delete t[e];}(this.data),this}},K=function(){function t(e,i){s(this,t),this.type=i,this.data=void 0,this.setParent(e).reset().setActive();}return h(t,[{key:"destroy",value:function(){this.parent&&this.parent.removeChild(this);}},{key:"setParent",value:function(t){return this.parent=t,this}},{key:"setDisplayListDirty",value:function(t){return t&&this.parent&&(this.parent.displayListDirty=!0),this}},{key:"active",get:function(){return this._active},set:function(t){this.setDisplayListDirty(this._active!=t),this._active=t;}},{key:"setActive",value:function(t){return void 0===t&&(t=!0),this.active=t,this}},{key:"modifyPorperties",value:function(t){return this}},{key:"reset",value:function(){this.clearData();}},{key:"onFree",value:function(){this.reset().setActive(!1).setParent();}}]),t}();Object.assign(K.prototype,z);var Q=Phaser.Math.DegToRad,$=Phaser.Math.RadToDeg,q=Phaser.Utils.Objects.GetValue,J=function(e){function i(){return s(this,i),t(this,i,arguments)}return o(i,e),h(i,[{key:"visible",get:function(){return this._visible},set:function(t){this.setDisplayListDirty(this._visible!=t),this._visible=t;}},{key:"setVisible",value:function(t){return void 0===t&&(t=!0),this.visible=t,this}},{key:"alpha",get:function(){return this._alpha},set:function(t){this.setDisplayListDirty(!!this._alpha!=!!t),this._alpha=t;}},{key:"setAlpha",value:function(t){return this.alpha=t,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"setPosition",value:function(t,e){return this.x=t,this.y=e,this}},{key:"setRotation",value:function(t){return this.rotation=t,this}},{key:"angle",get:function(){return $(this.rotation)},set:function(t){this.rotation=Q(t);}},{key:"setAngle",value:function(t){return this.angle=t,this}},{key:"setScaleX",value:function(t){return this.scaleX=t,this}},{key:"width",get:function(){return this._width},set:function(t){this._width=t;}},{key:"setWidth",value:function(t,e){return void 0===e&&(e=!1),this.width=t,e&&(this.scaleY=this.scaleX),this}},{key:"setScaleY",value:function(t){return this.scaleY=t,this}},{key:"setScale",value:function(t,e){return void 0===e&&(e=t),this.scaleX=t,this.scaleY=e,this}},{key:"height",get:function(){return this._height},set:function(t){this._height=t;}},{key:"setHeight",value:function(t,e){return void 0===e&&(e=!1),this.height=t,e&&(this.scaleX=this.scaleY),this}},{key:"displayWidth",get:function(){return this._width*this.scaleX},set:function(t){this.scaleX=t/this._width;}},{key:"setDisplayWidth",value:function(t,e){return void 0===e&&(e=!1),this.displayWidth=t,e&&(this.scaleY=this.scaleX),this}},{key:"displayHeight",get:function(){return this._height*this.scaleY},set:function(t){this.scaleY=t/this._height;}},{key:"setDisplayHeight",value:function(t,e){return void 0===e&&(e=!1),this.displayHeight=t,e&&(this.scaleX=this.scaleY),this}},{key:"setOriginX",value:function(t){return this.originX=t,this._displayOriginX=this.width*t,this}},{key:"setOriginY",value:function(t){return this.originY=t,this._displayOriginY=this.height*t,this}},{key:"setOrigin",value:function(t,e){return void 0===e&&(e=t),this.setOriginX(t).setOriginY(e),this}},{key:"depth",get:function(){return this._depth},set:function(t){this.setDisplayListDirty(this._depth!=t),this._depth=t;}},{key:"setDepth",value:function(t){return void 0===t&&(t=0),this.depth=t,this}},{key:"modifyPorperties",value:function(t){if(!t)return this;t.hasOwnProperty("x")&&this.setX(t.x),t.hasOwnProperty("y")&&this.setY(t.y),t.hasOwnProperty("rotation")?this.setRotation(t.rotation):t.hasOwnProperty("angle")&&this.setAngle(t.angle),t.hasOwnProperty("alpha")&&this.setAlpha(t.alpha);var e=q(t,"width",void 0),i=q(t,"height",void 0),r=q(t,"scale",void 0),s=q(t,"scaleX",r),n=q(t,"scaleY",r);void 0!==e?void 0===i&&void 0===n?this.setWidth(e,!0):this.setWidth(e):void 0!==s?this.setScaleX(s):t.hasOwnProperty("displayWidth")&&this.setDisplayWidth(t.displayWidth),void 0!==i?void 0===e&&void 0===s?this.setHeight(i,!0):this.setHeight(i):void 0!==n?this.setScaleY(n):t.hasOwnProperty("displayHeight")&&this.setDisplayHeight(t.displayHeight);var h=q(t,"origin",void 0);return void 0!==h?this.setOrigin(h):(t.hasOwnProperty("originX")&&this.setOriginX(t.originX),t.hasOwnProperty("originY")&&this.setOriginY(t.originY)),t.hasOwnProperty("depth")&&this.setDepth(t.depth),this}},{key:"reset",value:function(){return l(a(i.prototype),"reset",this).call(this),this.setVisible().setAlpha(1).setPosition(0,0).setRotation(0).setScale(1,1).setOrigin(0).setDepth(0),this}},{key:"webglRender",value:function(t,e,i,r,s,n,h,o){}},{key:"canvasRender",value:function(t,e,i,r){}}]),i}(K),Z=Phaser.GameObjects.Components.TransformMatrix,tt=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha,et=new Z,it=Phaser.Utils.Objects.IsPlainObject,rt=function(e){function i(e,r){var n;return s(this,i),(n=t(this,i,[e,V])).setFrame(r),n}return o(i,e),h(i,[{key:"width",get:function(){return this._width},set:function(t){}},{key:"height",get:function(){return this._height},set:function(t){}},{key:"setFrame",value:function(t){return arguments.length>0&&!it(t)&&(t=this.parent.texture.get(t)),this.frame=t,this._width=t?t.width:0,this._height=t?t.height:0,this}},{key:"setFlipX",value:function(t){return void 0===t&&(t=!0),this.flipX=t,this}},{key:"setFlipY",value:function(t){return void 0===t&&(t=!0),this.flipY=t,this}},{key:"resetFlip",value:function(){return this.flipX=!1,this.flipY=!1,this}},{key:"tint",get:function(){return void 0===this._tint?this.parent.tint:this._tint},set:function(t){this._tint=t;}},{key:"setTint",value:function(t){return this.tint=t,this.tintFill=!1,this}},{key:"setTintFill",value:function(t){return this.tint=t,this.tintFill=!0,this}},{key:"clearTint",value:function(){return this.setTint(16777215),this}},{key:"resetTint",value:function(){return this.tint=void 0,this.tintFill=void 0,this}},{key:"tintFill",get:function(){return void 0===this._tintFill?this.parent.tintFill:this._tintFill},set:function(t){this._tintFill=t;}},{key:"reset",value:function(){return l(a(i.prototype),"reset",this).call(this),this.resetFlip().resetTint().setFrame(),this}},{key:"modifyPorperties",value:function(t){return t?(t.hasOwnProperty("width")&&(t.displayWidth=t.width,delete t.width),t.hasOwnProperty("height")&&(t.displayHeight=t.height,delete t.height),t.hasOwnProperty("frame")&&this.setFrame(t.frame),l(a(i.prototype),"modifyPorperties",this).call(this,t),t.hasOwnProperty("flipX")&&this.setFlipX(t.flipX),t.hasOwnProperty("flipY")&&this.setFlipY(t.flipY),t.hasOwnProperty("tint")&&this.setTint(t.tint),t.hasOwnProperty("tintFill")&&this.setTintFill(t.tintFill),this):this}}]),i}(J),st={webglRender:function(t,e,i,r,s,n,h,o){var a=this._width,u=this._height,l=a*this.originX,c=u*this.originY,d=this.x-r,f=this.y-s,p=1,y=1;this.flipX&&(d+=a-2*l,p=-1),this.flipY&&(f+=u-2*c,y=-1),et.applyITRS(d,f,this.rotation,this.scaleX*p,this.scaleY*y),e.multiply(et,et);var v=-l,g=-c,m=v+a,b=g+u,w=et.setQuad(v,g,m,b,o),P=this.frame.u0,O=this.frame.v0,k=this.frame.u1,x=this.frame.v1,_=tt(this.tint,this.alpha*i);t.batchQuad(this.parent,w[0],w[1],w[2],w[3],w[4],w[5],w[6],w[7],P,O,k,x,_,_,_,_,this.tintFill,n,h);},canvasRender:function(t,e,i,r){t.save();var s=this._width,n=this._height,h=s*this.originX,o=n*this.originY,a=this.x-h,u=this.y-o,l=1,c=1;this.flipX&&(a+=s,l=-1),this.flipY&&(u+=n,c=-1),r&&(a=Math.round(a),u=Math.round(u)),t.translate(a,u),t.rotate(this.rotation),t.scale(this.scaleX*l,this.scaleY*c);var d=this.frame;t.drawImage(d.source.image,d.cutX,d.cutY,s,n,0,0,s,n),t.restore();}};Object.assign(rt.prototype,st);var nt=function(t,e){"string"==typeof e&&(e={frame:e});var i=t.poolManager?t.poolManager.allocate(V):null;return null===i?i=new rt(t):i.setParent(t).setActive(),i.modifyPorperties(e),t.addChild(i),i},ht={_drawImage:function(t,e,i,r,s,n){nt(this,{frame:e,x:i,y:r,width:s,height:n});},_drawTileSprite:function(t,e,i,r,s,n){var h=this.texture.get(e),o=h.width,a=h.height,u=Math.floor(s/o),l=Math.floor(n/a);i+=(s-u*o)/2,r+=(n-l*a)/2;for(var c=0;c<u;c++)for(var d=0;d<l;d++)nt(this,{frame:e,x:i+c*o,y:r+d*a});}},ot=function(e){function i(){return s(this,i),t(this,i,arguments)}return o(i,e),h(i,[{key:"setBaseTexture",value:function(t,e,r,s){return this.setTexture(t,e),l(a(i.prototype),"setBaseTexture",this).call(this,t,e,r,s),this}}]),i}(function(e,i){var r=function(e){function r(e,n,h,o,a,u,l,c,d,f){var p;if(s(this,r),U(n)?(n=E(f=n,"x",0),h=E(f,"y",0),o=E(f,"width",1),a=E(f,"height",1),u=E(f,"key",void 0),l=E(f,"baseFrame",void 0),c=E(f,"columns",void 0),d=E(f,"rows",void 0)):U(o)?(o=E(f=o,"width",1),a=E(f,"height",1),u=E(f,"key",void 0),l=E(f,"baseFrame",void 0),c=E(f,"columns",void 0),d=E(f,"rows",void 0)):U(u)?(u=E(f=u,"key",void 0),l=E(f,"baseFrame",void 0),c=E(f,"columns",void 0),d=E(f,"rows",void 0)):U(l)?(l=E(f=l,"baseFrame",void 0),c=E(f,"columns",void 0),d=E(f,"rows",void 0)):Array.isArray(l)?(f=d,d=c,c=l,l=E(f,"baseFrame",void 0)):U(c)&&(c=E(f=c,"columns",void 0),d=E(f,"rows",void 0)),void 0===l&&(l=E(f,"frame",void 0)),void 0===c){var y=E(f,"leftWidth",void 0),v=E(f,"rightWidth",void 0);void 0!==y&&void 0!==v&&(c=[y,void 0,v]);}if(void 0===d){var g=E(f,"topHeight",void 0),m=E(f,"bottomHeight",void 0);void 0!==g&&void 0!==m&&(d=[g,void 0,m]);}(p=t(this,r,[e])).type=i,p.setPosition(n,h).setSize(o,a).setOrigin(.5,.5),p.columns={},p.rows={},p.stretchMode={},p._tileSprite=void 0,p._image=void 0,p.setGetFrameNameCallback(E(f,"getFrameNameCallback",void 0)),p.setStretchMode(E(f,"stretchMode",0)),p.setPreserveRatio(E(f,"preserveRatio",!0));var b=E(f,"maxFixedPartScale",1),w=E(f,"maxFixedPartScaleX",b),P=E(f,"maxFixedPartScaleY",void 0);return p.setMaxFixedPartScale(w,P),p.setBaseTexture(u,l,c,d),p}return o(r,e),h(r,[{key:"minWidth",get:function(){return this.columns.minWidth}},{key:"minHeight",get:function(){return this.rows.minHeight}},{key:"fixedPartScaleX",get:function(){return this.columns.scale}},{key:"fixedPartScaleY",get:function(){return this.rows.scale}},{key:"resize",value:function(t,e){return this.width===t&&this.height===e||(l(a(r.prototype),"resize",this)?l(a(r.prototype),"resize",this).call(this,t,e):l(a(r.prototype),"setSize",this).call(this,t,e),this.updateTexture()),this}},{key:"leftWidth",get:function(){return this.columns.data[0]}},{key:"rightWidth",get:function(){return this.columns.data[this.columns.count-1]}},{key:"topHeight",get:function(){return this.rows.data[0]}},{key:"bottomHeight",get:function(){return this.rows.data[this.rows.count-1]}}]),r}(e);return Object.assign(r.prototype,N),r}(T,"rexNinePatch2"));function at(t,e,i,r,s,n,h,o,a){var u=new ot(this.scene,t,e,i,r,s,n,h,o,a);return this.scene.add.existing(u),u}Object.assign(ot.prototype,ht);var ut=Phaser.GameObjects.BuildGameObject;function lt(t,e){void 0===t&&(t={}),void 0!==e&&(t.add=e);var i=new ot(this.scene,t);return ut(this.scene,i,t),i}var ct=function(t){return null==t||""===t||0===t.length},dt=function(e){function i(e){var r;return s(this,i),r=t(this,i,[e]),e.registerGameObject("rexNinePatch2",at,lt),r}return o(i,Phaser.Plugins.BasePlugin),h(i,[{key:"start",value:function(){this.game.events.on("destroy",this.destroy,this);}}]),i}();return function(t,e,i,s){if(void 0===s&&(s="."),"object"===r(t)){if(ct(e)){if(null==i)return;"object"===r(i)&&(t=i);}else {"string"==typeof e&&(e=e.split(s));var n=e.pop(),h=function(t,e,i){var s=t;if(ct(e));else {var n;"string"==typeof e&&(e=e.split("."));for(var h=0,o=e.length;h<o;h++){var a;null!=s[n=e[h]]&&"object"===r(s[n])||(a=h===o-1?void 0===i?{}:i:{},s[n]=a),s=s[n];}}return s}(t,e);h[n]=i;}}}(window,"RexPlugins.GameObjects.NinePatch2",ot),dt}));
