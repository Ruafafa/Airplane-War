!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).rexperlingrivatywellplugin=e();}(undefined,(function(){function t(t,r,o){return r=u(r),function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,e()?Reflect.construct(r,o||[],u(t).constructor):r.apply(t,o))}function e(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));}catch(t){}return (e=function(){return !!t})()}function r(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return ("string"===e?String:Number)(t)}(t,"string");return "symbol"==typeof e?e:String(e)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,r(n.key),n);}}function i(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}function a(t,e){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},a(t,e)}var c=function(){function t(e,r,n){o(this,t),this.x=e,this.y=r,this.z=n;}return i(t,[{key:"dot2",value:function(t,e){return this.x*t+this.y*e}},{key:"dot3",value:function(t,e,r){return this.x*t+this.y*e+this.z*r}}]),t}(),f=[new c(1,1,0),new c(-1,1,0),new c(1,-1,0),new c(-1,-1,0),new c(1,0,1),new c(-1,0,1),new c(1,0,-1),new c(-1,0,-1),new c(0,1,1),new c(0,-1,1),new c(0,1,-1),new c(0,-1,-1)],s=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],l=.5*(Math.sqrt(3)-1),h=(3-Math.sqrt(3))/6,d=1/6,y=function(t){return t*t*t*(t*(6*t-15)+10)},p=function(t,e,r){return (1-r)*t+r*e},v=function(){function t(e){o(this,t),void 0===e&&(e=0),this.perm=new Array(512),this.gradP=new Array(512),this.setSeed(e);}return i(t,[{key:"setSeed",value:function(t){var e=this.perm,r=this.gradP;t>0&&t<1&&(t*=65536),(t=Math.floor(t))<256&&(t|=t<<8);for(var o=0;o<256;o++){var n;n=1&o?s[o]^255&t:s[o]^t>>8&255,e[o]=e[o+256]=n,r[o]=r[o+256]=f[n%12];}}},{key:"simplex2",value:function(t,e){var r,o,n=this.perm,i=this.gradP,u=(t+e)*l,a=Math.floor(t+u),c=Math.floor(e+u),f=(a+c)*h,s=t-a+f,d=e-c+f;s>d?(r=1,o=0):(r=0,o=1);var y=s-r+h,p=d-o+h,v=s-1+2*h,b=d-1+2*h,w=i[(a&=255)+n[c&=255]],m=i[a+r+n[c+o]],g=i[a+1+n[c+1]],P=.5-s*s-d*d,M=.5-y*y-p*p,O=.5-v*v-b*b;return 70*((P<0?0:(P*=P)*P*w.dot2(s,d))+(M<0?0:(M*=M)*M*m.dot2(y,p))+(O<0?0:(O*=O)*O*g.dot2(v,b)))}},{key:"simplex3",value:function(t,e,r){var o,n,i,u,a,c,f=this.perm,s=this.gradP,l=.3333333333333333*(t+e+r),h=Math.floor(t+l),y=Math.floor(e+l),p=Math.floor(r+l),v=(h+y+p)*d,b=t-h+v,w=e-y+v,m=r-p+v;b>=w?w>=m?(o=1,n=0,i=0,u=1,a=1,c=0):b>=m?(o=1,n=0,i=0,u=1,a=0,c=1):(o=0,n=0,i=1,u=1,a=0,c=1):w<m?(o=0,n=0,i=1,u=0,a=1,c=1):b<m?(o=0,n=1,i=0,u=0,a=1,c=1):(o=0,n=1,i=0,u=1,a=1,c=0);var g=b-o+d,P=w-n+d,M=m-i+d,O=b-u+2*d,j=w-a+2*d,S=m-c+2*d,k=b-1+.5,x=w-1+.5,_=m-1+.5,T=s[(h&=255)+f[(y&=255)+f[p&=255]]],E=s[h+o+f[y+n+f[p+i]]],B=s[h+u+f[y+a+f[p+c]]],R=s[h+1+f[y+1+f[p+1]]],q=.6-b*b-w*w-m*m,z=.6-g*g-P*P-M*M,A=.6-O*O-j*j-S*S,V=.6-k*k-x*x-_*_;return 32*((q<0?0:(q*=q)*q*T.dot3(b,w,m))+(z<0?0:(z*=z)*z*E.dot3(g,P,M))+(A<0?0:(A*=A)*A*B.dot3(O,j,S))+(V<0?0:(V*=V)*V*R.dot3(k,x,_)))}},{key:"perlin2",value:function(t,e){var r=this.perm,o=this.gradP,n=Math.floor(t),i=Math.floor(e);t-=n,e-=i;var u=o[(n&=255)+r[i&=255]].dot2(t,e),a=o[n+r[i+1]].dot2(t,e-1),c=o[n+1+r[i]].dot2(t-1,e),f=o[n+1+r[i+1]].dot2(t-1,e-1),s=y(t);return p(p(u,c,s),p(a,f,s),y(e))}},{key:"perlin3",value:function(t,e,r){var o=this.perm,n=this.gradP,i=Math.floor(t),u=Math.floor(e),a=Math.floor(r);t-=i,e-=u,r-=a;var c=n[(i&=255)+o[(u&=255)+o[a&=255]]].dot3(t,e,r),f=n[i+o[u+o[a+1]]].dot3(t,e,r-1),s=n[i+o[u+1+o[a]]].dot3(t,e-1,r),l=n[i+o[u+1+o[a+1]]].dot3(t,e-1,r-1),h=n[i+1+o[u+o[a]]].dot3(t-1,e,r),d=n[i+1+o[u+o[a+1]]].dot3(t-1,e,r-1),v=n[i+1+o[u+1+o[a]]].dot3(t-1,e-1,r),b=n[i+1+o[u+1+o[a+1]]].dot3(t-1,e-1,r-1),w=y(t),m=y(e),g=y(r);return p(p(p(c,h,w),p(f,d,w),g),p(p(s,v,w),p(l,b,w),g),m)}}]),t}(),b=Phaser.Utils.Objects.GetValue,w=function(){function t(e){o(this,t),this.active=!0,this.noise=new v(b(e,"seed",Math.random())),this.periodScale=b(e,"periodScale",2e-4),this.rotateScale=b(e,"rotateScale",.3),this.velocity=new Phaser.Math.Vector2;}return i(t,[{key:"update",value:function(t,e){var r=e*this.periodScale,o=this.noise.perlin2(t.x*r,t.y*r)*Math.PI;this.velocity.set(t.velocityX,t.velocityY).rotate(o*this.rotateScale),t.velocityX=this.velocity.x,t.velocityY=this.velocity.y;}}]),t}();return function(e){function r(e){return o(this,r),t(this,r,[e])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e);}(r,Phaser.Plugins.BasePlugin),i(r,[{key:"start",value:function(){this.game.events.on("destroy",this.destroy,this);}},{key:"add",value:function(t){return new w(t)}}]),r}()}));
